void outb_set (char index, int comando, unsigned short porta){
	outb(index, porta);
	outb(comando, porta);
}

void start_VGA (){
	/*outb(0x63, 0x3c2);
	outb_set(0x11, 0x00, 0x3d5);


	outb_set(0x10, 0x41, 0x3c0);
	outb_set(0x11, 0x00, 0x3c0);
	outb_set(0x12, 0x0f, 0x3c0);
	outb_set(0x13, 0x00, 0x3c0);
	outb_set(0x14, 0x00, 0x3c0);
	outb(0x63, 0x3c2);
	outb_set(0x01, 0x01, 0x3c4);
	outb_set(0x03, 0x00, 0x3c4);
	outb_set(0x04, 0x0e, 0x3c4);
	outb_set(0x05, 0x40, 0x3ce);
	outb_set(0x06, 0x05, 0x3ce);
	outb_set(0x00, 0x5f, 0x3d4);
	outb_set(0x01, 0x4f, 0x3d4);
	outb_set(0x02, 0x50, 0x3d4);
	outb_set(0x03, 0x82, 0x3d4);
	outb_set(0x04, 0x54, 0x3d4);
	outb_set(0x05, 0x80, 0x3d4);
	outb_set(0x06, 0xbf, 0x3d4);
	outb_set(0x07, 0x1f, 0x3d4);
	outb_set(0x08, 0x00, 0x3d4);
	outb_set(0x09, 0x41, 0x3d4);
	outb_set(0x10, 0x9c, 0x3d4);
	outb_set(0x11, 0x8e, 0x3d4);
	outb_set(0x12, 0xbf, 0x3d4);
	outb_set(0x13, 0x28, 0x3d4);
	outb_set(0x14, 0x40, 0x3d4);
	outb_set(0x15, 0x96, 0x3d4);
	outb_set(0x16, 0xb9, 0x3d4);
	outb_set(0x17, 0xa3, 0x3d4);

	int *vga = (int *)0xA0000;
	for (int dd = 0; dd < 50; dd++){
		vga[dd * 320 + dd] = 0xff0000;
	}*/
	
	outb(0x63, 0x3c2);

	outb(0x00, 0x3c4);
	outb(0x03, 0x3c5);

	outb(0x01, 0x3c4);
	outb(0x01, 0x3c5);

	outb(0x02, 0x3c4);
	outb(0x0f, 0x3c5);

	outb(0x03, 0x3c4);
	outb(0x00, 0x3c5);

	outb(0x04, 0x3c4);
	outb(0x0e, 0x3c5);

	//azzera bit 7	
	outb(0x11, 0x3d4);

	char val = inb(0x3d5);
	val &= 0x7f;

	outb(0x11, 0x3d4);
	outb(val, 0x3d5);

	outb(0x00, 0x3d4);
	outb(0x5f, 0x3d5);

	outb(0x01, 0x3d4);
	outb(0x4f, 0x3d5);

	outb(0x02, 0x3d4);
	outb(0x50, 0x3d5);

	outb(0x03, 0x3d4);
	outb(0x82, 0x3d5);

	outb(0x04, 0x3d4);
	outb(0x54, 0x3d5);

	outb(0x05, 0x3d4);
	outb(0x80, 0x3d5);

	outb(0x06, 0x3d4);
	outb(0xbf, 0x3d5);

	outb(0x07, 0x3d4);
	outb(0x1f, 0x3d5);

	outb(0x08, 0x3d4);
	outb(0x00, 0x3d5);

	outb(0x09, 0x3d4);
	outb(0x41, 0x3d5);

	outb(0x0a, 0x3d4);
	outb(0x00, 0x3d5);
	
	outb(0x0b, 0x3d4);
	outb(0x00, 0x3d5);

	outb(0x0c, 0x3d4);
	outb(0x00, 0x3d5);

	outb(0x0d, 0x3d4);
	outb(0x00, 0x3d5);

	outb(0x0e, 0x3d4);
	outb(0x00, 0x3d5);

	outb(0x0f, 0x3d4);
	outb(0x00, 0x3d5);
	
	outb(0x10, 0x3d4);
	outb(0x9c, 0x3d5);

	outb(0x11, 0x3d4);
	outb(0x8e, 0x3d5);

	outb(0x12, 0x3d4);
	outb(0x8f, 0x3d5);

	outb(0x13, 0x3d4);
	outb(0x28, 0x3d5);

	outb(0x14, 0x3d4);
	outb(0x40, 0x3d5);

	outb(0x15, 0x3d4);
	outb(0x96, 0x3d5);

	outb(0x16, 0x3d4);
	outb(0xb9, 0x3d5);

	outb(0x17, 0x3d4);
	outb(0xa3, 0x3d5);

	outb(0x18, 0x3d4);
	outb(0xff, 0x3d5);

        //graphics controller (3ce 3cf)
	

	outb(0x00, 0x3ce);
	outb(0x00, 0x3cf);
	
	outb(0x01, 0x3ce);
	outb(0x00, 0x3cf);
	
	outb(0x02, 0x3ce);
	outb(0x00, 0x3cf);
	
	outb(0x03, 0x3ce);
	outb(0x00, 0x3cf);
	
	outb(0x04, 0x3ce);
	outb(0x00, 0x3cf);
	
	outb(0x05, 0x3ce);
	outb(0x40, 0x3cf);
	
	outb(0x06, 0x3ce);
	outb(0x05, 0x3cf);
	
	outb(0x07, 0x3ce);
	outb(0x0f, 0x3cf);

	outb(0x08, 0x3ce);
	outb(0xff, 0x3cf);

	//flip flop

	inb(0x3da);

	outb(0x00, 0x3c0);
	outb(0x00, 0x3c0);

//	inb(0x3da);

	outb(0x01, 0x3c0);
	outb(0x01, 0x3c0);

//	inb(0x3da);

	outb(0x02, 0x3c0);
	outb(0x02, 0x3c0);
	
//	inb(0x3da);

	outb(0x03, 0x3c0);
	outb(0x03, 0x3c0);

//	inb(0x3da);

	outb(0x04, 0x3c0);
	outb(0x04, 0x3c0);

//	inb(0x3da);

	outb(0x05, 0x3c0);
	outb(0x05, 0x3c0);

//	inb(0x3da);

	outb(0x06, 0x3c0);
	outb(0x06, 0x3c0);

//	inb(0x3da);

	outb(0x07, 0x3c0);
	outb(0x07, 0x3c0);

	
//	inb(0x3da);

	outb(0x08, 0x3c0);
	outb(0x08, 0x3c0);

//	inb(0x3da);

	outb(0x09, 0x3c0);
	outb(0x09, 0x3c0);

//	inb(0x3da);

	outb(0x0a, 0x3c0);
	outb(0x0a, 0x3c0);

//	inb(0x3da);

	outb(0x0b, 0x3c0);
	outb(0x0b, 0x3c0);

//	inb(0x3da);

	outb(0x0c, 0x3c0);
	outb(0x0c, 0x3c0);

//	inb(0x3da);

	outb(0x0d, 0x3c0);
	outb(0x0d, 0x3c0);

//	inb(0x3da);

	outb(0x0e, 0x3c0);
	outb(0x0e, 0x3c0);

//	inb(0x3da);

	outb(0x0f, 0x3c0);
	outb(0x0f, 0x3c0);

//	inb(0x3da);

	outb(0x10, 0x3c0);
	outb(0x41, 0x3c0);

//	inb(0x3da);

	outb(0x11, 0x3c0);
	outb(0x00, 0x3c0);

//	inb(0x3da);

	outb(0x12, 0x3c0);
	outb(0x0f, 0x3c0);

//	inb(0x3da);

	outb(0x13, 0x3c0);
	outb(0x00, 0x3c0);

//	inb(0x3da);

	outb(0x14, 0x3c0);
	outb(0x00, 0x3c0);

	outb(0x20, 0x3c0);

	char *vram = (char*)0xA0000;
	for (int dd = 0; dd < (320*200); dd++){vram[dd] = 0x00;} // clean
	
	char let[8][8] = {
		{0x00,0x00,0x00,0x0f,0x0f,0x00,0x00,0x00},
		{0x00,0x00,0x0f,0x00,0x00,0x0f,0x00,0x00},
		{0x00,0x0f,0x00,0x00,0x00,0x00,0x0f,0x00},
		{0x0f,0x00,0x00,0x00,0x00,0x00,0x00,0x0f},
		{0x0f,0x0f,0x0f,0x0f,0x0f,0x0f,0x0f,0x0f},
		{0x0f,0x00,0x00,0x00,0x00,0x00,0x00,0x0f},
		{0x0f,0x00,0x00,0x00,0x00,0x00,0x00,0x0f},
		{0x0f,0x00,0x00,0x00,0x00,0x00,0x00,0x0f},
	};
	static int ee = 0;
	/*for (int dd = 0; dd < sizeof(let); dd ++){
		//for (int cc = 0; cc < sizeof(let) / 8; cc++){
		vram[(320 * ee + (cc))] = let[dd];
		//}
		ee++;
	}*/

}
